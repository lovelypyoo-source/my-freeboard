<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>게시판 메인</title>
<style>
body { font-family: Arial, sans-serif; background:#f9f9f9; padding:20px; }
h1 { text-align:center; }
.container { max-width:600px; margin:0 auto; }
textarea, input { width:100%; padding:10px; margin:5px 0; border-radius:5px; border:1px solid #ccc; }
button { padding:10px 15px; margin:5px; border:none; border-radius:5px; background:#007BFF; color:white; cursor:pointer; }
button:hover { background:#0056b3; }
.post { background:#fff; padding:15px; margin:20px auto; border-radius:10px; box-shadow:0 2px 5px rgba(0,0,0,0.1);}
</style>
</head>
<body>
  <h1>게시판 메인</h1>
  <div class="container">
    <h3>글쓰기</h3>
    <textarea id="content" placeholder="내용을 입력하세요"></textarea>
    <input type="password" id="pw" placeholder="비밀번호(4자리)" maxlength="4">
    <button onclick="savePost()">저장</button>

    <h3>메뉴</h3>
    <button onclick="goView()">내 글 조회</button>
    <button onclick="goAdmin()">관리자 페이지</button>
  </div>

<!-- ... 기존 코드 위쪽 동일 ... -->

<script>
let posts = JSON.parse(localStorage.getItem("posts")||"[]");

// 글 저장
function savePost(){
  const content=document.getElementById("content").value.trim();
  const pw=document.getElementById("pw").value.trim();

  if(content==="" || pw===""){ alert("내용과 비밀번호를 입력하세요."); return; }
  if(pw.length!==4){ alert("비밀번호는 4자리여야 합니다."); return; }

  const post={ content:content, pw:pw, views:0, comments:[] };
  posts.push(post);
  localStorage.setItem("posts",JSON.stringify(posts));
  alert("글이 저장되었습니다.");
  document.getElementById("content").value="";
  document.getElementById("pw").value="";
}

// 내 글 조회 (프롬프트만 → 맞으면 바로 view.html 이동)
function goView(){
  const inputPw = prompt("본인 글 비밀번호(4자리)를 입력하세요:");
  if(!inputPw) return;
  if(inputPw.length!==4){ alert("비밀번호는 4자리입니다."); return; }

  const myPosts = posts.filter(p=>p.pw===inputPw);
  if(myPosts.length===0){ alert("해당 비밀번호로 작성된 글이 없습니다."); return; }

  sessionStorage.setItem("viewPw", inputPw);
  window.location.href="view.html"; // ✅ 바로 view.html 이동
}

// 관리자 페이지 이동
function goAdmin(){
  const inputPw = prompt("관리자 비밀번호를 입력하세요:");
  if(inputPw==="dobong09!"){
    window.location.href="admin.html";
  }else{
    alert("비밀번호가 틀렸습니다.");
  }
}


</script>
</body>
</html>
